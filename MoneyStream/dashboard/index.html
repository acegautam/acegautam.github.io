<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>MoneyStream :: FTU Calendar</title>
<link href='css/bootstrap.min.css' rel='stylesheet' />
<link href='css/font-awesome.min.css' rel='stylesheet' />
<link href='css/fullcalendar.min.css' rel='stylesheet' />
<link href='css/styles.css' rel='stylesheet' />
</head>
<body>
	
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="logo" href="#"> MoneyStream</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
			<ul class="nav pull-right " style="top: 0px;">
				<li class="brdNon"><a href="#"><i class="fa fa-flag"></i></a></li>
				<li class="brdNon"><a href="#"><i class="fa fa-comments"></i></a></li>
				<li class="brdNon"><a href="#"><i class="fa fa-question-circle"></i></a></li>
			</ul>
        </div>
      </div>
    </nav>
    <!-- Header area -->
    <script type="text/x-handlebars" data-template-name="calendar">
	    <section class="headSection">
	    	<section class="steps row">
	    		<section class="col-md-2">
		    		<h4 class="title">{{title}}</h4>
		    	</section>
	    		<section class="col-md-7">
	    			<div id="step1" class="stepdetails step1 col-md-3 active"><span class="numIndicator">1</span>Setup calendar</div>
	    			<div id="step2" class="stepdetails step2 col-md-3"><span class="numIndicator">2</span>Connect Bills</div>
	    			<div id="step3" class="stepdetails step3 col-md-3"><span class="numIndicator">3</span>Setup Reminders</div>
	    		</section>
	    	</section>
	    	<section class="stepOne actionsContainer addBillDetailsBox row">
	    		<section class="col-md-1"></section>
	    		{{#each item in model}}
	    			{{bill_section_tag_start}}
						<section class='setupCal col-md-4'>
							<div>
								<div class="col-md-3 billImage text-right"><img {{bind-attr src=item.imgUrl}}></div>
								<div class="col-md-9 addBillDetails">
									<h4>Add this bill?</h4>
									<h3>{{item.name}}</h3>								
									<button type="button" class="btn btn-default btn-sm col-md-3" {{action 'showNext'}}>No</button>
									<button type="button" class="btn btn-primary btn-sm col-md-3" {{action 'addBill'}}>Yes</button>
								</div>
							</div>
						</section>
						<section class="setupcal col-md-4 col-md-offset-2 prevBillsContainer">
							<h4>Average of {{item.average}} Monthly</h4>
							<p>This recurring transaction led us to believe that it is a bill.</p>
							<div class="prevBillsBox">
							{{#each bill in item.previousBills}}
								<div class="prevBill">
									<span class="date">{{bill.date}}</span>
									<span class="amount">{{bill.amt}}</span>
								</div>
							{{/each}}
						</section>
				{{/each}}				    		
	    	</section>
	    	<section class="stepTwo actionsContainer connectDetailsBox row hidden">
	    		<section class="col-md-1"></section>
	    		<section class="col-md-5 connectDetails">
	    			<div class="col-md-3 billImage text-right"></div>
					<div class="col-md-9">
						<h4>Connect your bills to get exact amounts</h4>
						<p>The higlighted bills below are connectable. To connect your bills, select a bill and enter your username and password</p>
					</div>
				</section>
				<section class='col-md-5'>
					<div id="connectBillStep1">
						<div class="col-md-3 billImage text-right"><img {{bind-attr src=connectBillData.imgUrl}}></div>
						<div class="col-md-9 addBillDetails">
							<h4>Connect your bills to get exact amount</h4>
							<h3>{{connectBillData.name}}</h3>								
							<input id="txtUsername" type="text" placeholder="Username" class="col-md-4">
							<input id="txtPassword" type="password" placeholder="Password" class="col-md-4">
							<button type="button" class="btn btn-primary btn-sm col-md-3" {{action 'showSecurityQuestion'}}>Connect</button>
						</div>
					</div>
					<div id="connectBillStep2">
						<div class="col-md-3 billImage text-right"><img {{bind-attr src=connectBillData.imgUrl}}></div>
						<div class="col-md-9">
							<p>For your security,{{connectBillData.name}} requires some addtional information to connect your bill with MoneyStream</p>				
							<input id="secAns" type="text" placeholder="What's your mother's maiden name?" class="col-md-8">				
							<button type="button" class="btn btn-primary btn-sm col-md-3" {{action 'connectBill' connectBillData}}>Connect</button>
						</div>
					</div>
					<div id="connectBillStep3">
						<div class="col-md-3"></div>
						<div class="col-md-9">
							<h3>Connecting {{connectBillData.name}}... </h3>
							<p>You can continue connecting your other bills. We will alert you if there is a problem.</p>
						</div>
					</div>
					<div id="billConnectedMsg">
						<div class="col-md-3"></div>
						<div class="col-md-9">
							<h3>Success! Your bill has been connected.</h3>
							<p>Please proceed to connect other bills.</p>
						</div>
					</div>	
				</section>
	    	</section>			
	    </section>
	    <section class="bodySection row">
		    <div class="leftcont col-md-2">
		    	<div class="containerBox">
					<div id='currCalendar' class="cal"></div>
					<div id='nextCalendar' class="cal"></div>
				</div>		
		    </div>    
		    <div class="dashboard col-md-10">
		    	{{#if addedBills.length}}
			    	<h3>Next Upcoming Bills</h3>
				    <p>NOTE: Amount shown below are estimates until you connect your bills in step 2 to get exact amount.</p>
				    <div class="currentMonthBills">
					    <h4 class="dateHeading">
						    <span class="month">{{currMonthName}}</span>
						    <span class="year">2014</span>
						    <span class="numberOfBills">{{addedBills.length}} Bill(s)</span>
					    </h4>
					    <ul>
					    	{{#each bill in addedBills}}
					    		<a class="billingService" {{action "showConnect" bill}}>
									{{#addId}}{{/addId}}
									<div class="count text-right">{{estimatedDueDay}}</div>
									<img {{bind-attr src=bill.imgUrl}}>
									<h6>{{bill.name}}</h6>
									<p>{{bill.average}}</p>
								</a>
							{{/each}}
					    </ul>
				    </div>
				    <div class="nextMonthBills hidden">
					    <h4 class="dateHeading">
						    <span class="month">{{nextMonthName}}</span>
						    <span class="year">2014</span>
						    <span class="numberOfBills">{{addedBills.length}} Bill(s)</span>
					    </h4>
					    <ul>
					    	{{#each bill in reviewedBills.forNextMonth}}
					    		<a class="billingService">
									<div class="count text-right">{{estimatedDueDay}}</div>
									<img {{bind-attr src=bill.imgUrl}}>
									<h6>{{bill.name}}</h6>
									<p>{{bill.average}}</p>
								</a>
							{{/each}}
					    </ul>
				    </div>
				    <div class="otherBills hidden">
					    <h4 class="dateHeading">
						    <span class="month">Other Bills</span>
						    <span class="numberOfBills">{{addedBills.length}} Bill(s)</span>
					    </h4>
					    <ul>
					    	{{#each bill in reviewedBills.forOtherMonths}}
					    		<a class="billingService">
									<div class="count text-right">{{estimatedDueDay}}</div>
									<img {{bind-attr src=bill.imgUrl}}>
									<h6>{{bill.name}}</h6>
									<p>{{bill.average}}</p>
								</a>
							{{/each}}
					    </ul>
				    </div>

			    {{else}}
				    <p>0 Bills Added To Calender</p>
					<p>Set up your calender to see when your bills are due all at one place</p>
				{{/if}}
		    </div>
	    </section>
    </script>

    <!-- 	Library scripts 	-->
    <script src="lib/jquery-2.1.1.min.js"></script>
  	<script src="lib/handlebars-v2.0.0.js"></script>
 	<script src="lib/ember-1.9.1.js"></script>
  	<script src="lib/ember-data.js"></script>

    <!-- 	Calendar scripts 	-->
    <script src='lib/moment.min.js'></script>
	<script src='lib/fullcalendar.min.js'></script>

	<!-- 	App scripts 		-->
	<script src='js/constants.js'></script>
	<script src='js/cal.js'></script>
	<script src='js/app.js'></script>
	<script src='js/store.js'></script>
	<script src='js/router.js'></script>

	<script src='js/controllers/CalendarController.js'></script>
	<script src='js/helpers/CalendarHelper.js'></script>
	<script src='js/views/views.js'></script>
</body>
</html>
